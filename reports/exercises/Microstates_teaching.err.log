Traceback (most recent call last):
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/asyncio/base_events.py", line 685, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/Users/tivadarr/anaconda3/envs/microstates/lib/python3.12/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
microstates = nk.microstates_segment(ModK._fitted_data, sampling_rate=sampling_rate,
                                     n_microstates=4)
# Visualize the extracted microstates
nk.microstates_plot(microstates)

------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
Cell [0;32mIn[26], line 4[0m
[1;32m      1[0m microstates [38;5;241m=[39m nk[38;5;241m.[39mmicrostates_segment(ModK[38;5;241m.[39m_fitted_data, sampling_rate[38;5;241m=[39msampling_rate,
[1;32m      2[0m                                      n_microstates[38;5;241m=[39m[38;5;241m4[39m)
[1;32m      3[0m [38;5;66;03m# Visualize the extracted microstates[39;00m
[0;32m----> 4[0m [43mnk[49m[38;5;241;43m.[39;49m[43mmicrostates_plot[49m[43m([49m[43mmicrostates[49m[43m)[49m

File [0;32m~/anaconda3/envs/microstates/lib/python3.12/site-packages/neurokit2/microstates/microstates_plot.py:83[0m, in [0;36mmicrostates_plot[0;34m(microstates, segmentation, gfp, info, epoch)[0m
[1;32m     81[0m [38;5;66;03m# Plot topomaps -----------------------------------------------------------[39;00m
[1;32m     82[0m [38;5;28;01mfor[39;00m i, [38;5;28mmap[39m [38;5;129;01min[39;00m [38;5;28menumerate[39m(microstates):
[0;32m---> 83[0m     _, _ [38;5;241m=[39m [43mmne[49m[38;5;241;43m.[39;49m[43mviz[49m[38;5;241;43m.[39;49m[43mplot_topomap[49m[43m([49m[38;5;28;43mmap[39;49m[43m,[49m[43m [49m[43minfo[49m[43m,[49m[43m [49m[43maxes[49m[38;5;241;43m=[39;49m[43max[49m[43m[[49m[43mi[49m[43m][49m[43m,[49m[43m [49m[43mch_type[49m[38;5;241;43m=[39;49m[38;5;124;43m"[39;49m[38;5;124;43meeg[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[43mshow[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m)[49m
[1;32m     84[0m     ax[i][38;5;241m.[39mset_title([38;5;124mf[39m[38;5;124m"[39m[38;5;132;01m{[39;00mi[38;5;132;01m}[39;00m[38;5;124m"[39m)
[1;32m     86[0m [38;5;66;03m# Plot GFP ---------------------------------------------------------------[39;00m
[1;32m     87[0m [38;5;66;03m# Get x-axis[39;00m

File [0;32m~/anaconda3/envs/microstates/lib/python3.12/site-packages/mne/viz/topomap.py:1028[0m, in [0;36mplot_topomap[0;34m(data, pos, ch_type, sensors, names, mask, mask_params, contours, outlines, sphere, image_interp, extrapolate, border, res, size, cmap, vlim, cnorm, axes, show, onselect)[0m
[1;32m   1023[0m [38;5;28;01mif[39;00m cnorm [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mand[39;00m (vlim[[38;5;241m0[39m] [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mor[39;00m vlim[[38;5;241m1[39m] [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m):
[1;32m   1024[0m     warn(
[1;32m   1025[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mProvided cnorm implicitly defines vmin=[39m[38;5;132;01m{[39;00mcnorm[38;5;241m.[39mvmin[38;5;132;01m}[39;00m[38;5;124m and [39m[38;5;124m"[39m
[1;32m   1026[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mvmax=[39m[38;5;132;01m{[39;00mcnorm[38;5;241m.[39mvmax[38;5;132;01m}[39;00m[38;5;124m; ignoring additional vlim/vmin/vmax params.[39m[38;5;124m"[39m
[1;32m   1027[0m     )
[0;32m-> 1028[0m [38;5;28;01mreturn[39;00m [43m_plot_topomap[49m[43m([49m
[1;32m   1029[0m [43m    [49m[43mdata[49m[43m,[49m
[1;32m   1030[0m [43m    [49m[43mpos[49m[43m,[49m
[1;32m   1031[0m [43m    [49m[43mvmin[49m[38;5;241;43m=[39;49m[43mvlim[49m[43m[[49m[38;5;241;43m0[39;49m[43m][49m[43m,[49m
[1;32m   1032[0m [43m    [49m[43mvmax[49m[38;5;241;43m=[39;49m[43mvlim[49m[43m[[49m[38;5;241;43m1[39;49m[43m][49m[43m,[49m
[1;32m   1033[0m [43m    [49m[43mcmap[49m[38;5;241;43m=[39;49m[43mcmap[49m[43m,[49m
[1;32m   1034[0m [43m    [49m[43msensors[49m[38;5;241;43m=[39;49m[43msensors[49m[43m,[49m
[1;32m   1035[0m [43m    [49m[43mres[49m[38;5;241;43m=[39;49m[43mres[49m[43m,[49m
[1;32m   1036[0m [43m    [49m[43maxes[49m[38;5;241;43m=[39;49m[43maxes[49m[43m,[49m
[1;32m   1037[0m [43m    [49m[43mnames[49m[38;5;241;43m=[39;49m[43mnames[49m[43m,[49m
[1;32m   1038[0m [43m    [49m[43mmask[49m[38;5;241;43m=[39;49m[43mmask[49m[43m,[49m
[1;32m   1039[0m [43m    [49m[43mmask_params[49m[38;5;241;43m=[39;49m[43mmask_params[49m[43m,[49m
[1;32m   1040[0m [43m    [49m[43moutlines[49m[38;5;241;43m=[39;49m[43moutlines[49m[43m,[49m
[1;32m   1041[0m [43m    [49m[43mcontours[49m[38;5;241;43m=[39;49m[43mcontours[49m[43m,[49m
[1;32m   1042[0m [43m    [49m[43mimage_interp[49m[38;5;241;43m=[39;49m[43mimage_interp[49m[43m,[49m
[1;32m   1043[0m [43m    [49m[43mshow[49m[38;5;241;43m=[39;49m[43mshow[49m[43m,[49m
[1;32m   1044[0m [43m    [49m[43monselect[49m[38;5;241;43m=[39;49m[43monselect[49m[43m,[49m
[1;32m   1045[0m [43m    [49m[43mextrapolate[49m[38;5;241;43m=[39;49m[43mextrapolate[49m[43m,[49m
[1;32m   1046[0m [43m    [49m[43msphere[49m[38;5;241;43m=[39;49m[43msphere[49m[43m,[49m
[1;32m   1047[0m [43m    [49m[43mborder[49m[38;5;241;43m=[39;49m[43mborder[49m[43m,[49m
[1;32m   1048[0m [43m    [49m[43mch_type[49m[38;5;241;43m=[39;49m[43mch_type[49m[43m,[49m
[1;32m   1049[0m [43m    [49m[43mcnorm[49m[38;5;241;43m=[39;49m[43mcnorm[49m[43m,[49m
[1;32m   1050[0m [43m[49m[43m)[49m[:[38;5;241m2[39m]

File [0;32m~/anaconda3/envs/microstates/lib/python3.12/site-packages/mne/viz/topomap.py:1253[0m, in [0;36m_plot_topomap[0;34m(data, pos, axes, ch_type, sensors, names, mask, mask_params, contours, outlines, sphere, image_interp, extrapolate, border, res, cmap, vmin, vmax, cnorm, show, onselect)[0m
[1;32m   1246[0m [38;5;66;03m# Give a helpful error message for common mistakes regarding the position[39;00m
[1;32m   1247[0m [38;5;66;03m# matrix.[39;00m
[1;32m   1248[0m pos_help [38;5;241m=[39m (
[1;32m   1249[0m     [38;5;124m"[39m[38;5;124mElectrode positions should be specified as a 2D array with [39m[38;5;124m"[39m
[1;32m   1250[0m     [38;5;124m"[39m[38;5;124mshape (n_channels, 2). Each row in this matrix contains the [39m[38;5;124m"[39m
[1;32m   1251[0m     [38;5;124m"[39m[38;5;124m(x, y) position of an electrode.[39m[38;5;124m"[39m
[1;32m   1252[0m )
[0;32m-> 1253[0m [38;5;28;01mif[39;00m [43mpos[49m[38;5;241;43m.[39;49m[43mndim[49m [38;5;241m!=[39m [38;5;241m2[39m:
[1;32m   1254[0m     error [38;5;241m=[39m (
[1;32m   1255[0m         [38;5;124m"[39m[38;5;132;01m{ndim}[39;00m[38;5;124mD array supplied as electrode positions, where a 2D [39m[38;5;124m"[39m
[1;32m   1256[0m         [38;5;124m"[39m[38;5;124marray was expected[39m[38;5;124m"[39m
[1;32m   1257[0m     )[38;5;241m.[39mformat(ndim[38;5;241m=[39mpos[38;5;241m.[39mndim)
[1;32m   1258[0m     [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(error [38;5;241m+[39m [38;5;124m"[39m[38;5;124m [39m[38;5;124m"[39m [38;5;241m+[39m pos_help)

[0;31mAttributeError[0m: 'NoneType' object has no attribute 'ndim'

